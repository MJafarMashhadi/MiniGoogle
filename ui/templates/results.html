<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search results {{ query }}</title>
    {% include 'header.html' %}
    <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}" />
    <script type="text/javascript" src="{{ url_for('static', filename='results.js') }}"></script>
</head>
<body>
<header>
    <div class="logo">
        <h3 style="line-height: 1em; margin: 0">Google<sub>mini</sub></h3>
    </div>

    <div class="">
        <form class="form-horizontal" method="get" action="/search">
            <div class="search-form-wrapper">
                <input name="q" tabindex="1" type="text" value="{{ query }}"/>
                <input tabindex="2" type="submit" class="btn" value="&#xe003;"/>
            </div>
        </form>
    </div>
</header>
<div class="container-fluid">
    <div class="col-lg-10">
        Found {{ total_results }} results in <strong>{{ duration }}</strong>.
        <ol class="results-table">
            {% for result in results %}
                <li class="cluster-{{ result._source.cluster }}">
                    <p>
                        <a href="{{ result._source.page }}" class="result-title">{{ result._source.title }}</a>
                        <span class="citation pull-right">Cited in {{ result._source.cited_in | length }} papers and references {{ result._source.refrences | length }}</span>
                    </p>

                    <p class="abstract text-muted">
                        {{ result._source.abstract }}
                    </p>
                    <span class="authors">Authors:</span>
                    <ol class="authors">
                        {% for author in result._source.authors %}
                            <li>{{ author }}</li>
                        {% endfor %}
                    </ol>
                </li>
            {% endfor %}
        </ol>
    </div>
    <div class="col-lg-2">
        <h3>Topics</h3>
        <div class="btn-group-vertical" role="group" style="width: 100%; margin: 5px auto;">
            {% for cluster in clusters %}
                <label for="ch-cluster-{{ cluster.id }}" class="btn btn-default active">
                    <input class="ch-cluster hidden" name="ch-cluster-{{ cluster.id }}" type="checkbox" checked /> {{ cluster.name }}
                </label>
            {% endfor %}
        </div>
        {% include 'ads.html' %}
    </div>
</div>
</body>
</html>